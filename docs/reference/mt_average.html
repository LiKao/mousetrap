<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Average trajectories across intervals. — mt_average • mousetrap</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Average trajectories across intervals. — mt_average" />
<meta property="og:description" content="Average trajectory data across specified intervals (e.g., constant time
intervals). For every specified dimension in the trajectory array (by
default, every dimension, i.e., x- and y-position, possibly also velocity and
acceleration etc.), the mean value for the respective interval is calculated
(see Details for information regarding the exact averaging procedure)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mousetrap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.1.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/mousetrap.html">Overview</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/pascalkieslich/mousetrap">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Average trajectories across intervals.</h1>
    <small class="dont-index">Source: <a href='https://github.com/pascalkieslich/mousetrap/blob/master/R/preprocess.R'><code>R/preprocess.R</code></a></small>
    <div class="hidden name"><code>mt_average.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Average trajectory data across specified intervals (e.g., constant time
intervals). For every specified dimension in the trajectory array (by
default, every dimension, i.e., x- and y-position, possibly also velocity and
acceleration etc.), the mean value for the respective interval is calculated
(see Details for information regarding the exact averaging procedure).</p>
    </div>

    <pre class="usage"><span class='fu'>mt_average</span>(
  <span class='no'>data</span>,
  <span class='kw'>use</span> <span class='kw'>=</span> <span class='st'>"trajectories"</span>,
  <span class='kw'>save_as</span> <span class='kw'>=</span> <span class='st'>"av_trajectories"</span>,
  <span class='kw'>dimensions</span> <span class='kw'>=</span> <span class='st'>"all"</span>,
  <span class='kw'>av_dimension</span> <span class='kw'>=</span> <span class='st'>"timestamps"</span>,
  <span class='kw'>intervals</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>interval_size</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>max_interval</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>dimension</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>a mousetrap data object created using one of the mt_import
functions (see <a href='mt_example.html'>mt_example</a> for details). Alternatively, a trajectory
array can be provided directly (in this case <code>use</code> will be ignored).</p></td>
    </tr>
    <tr>
      <th>use</th>
      <td><p>a character string specifying which trajectory data should be
used.</p></td>
    </tr>
    <tr>
      <th>save_as</th>
      <td><p>a character string specifying where the resulting trajectory
data should be stored.</p></td>
    </tr>
    <tr>
      <th>dimensions</th>
      <td><p>a character vector specifying the dimensions in the
trajectory array that should be averaged. By default (<code>"all"</code>), all
trajectory dimensions will be averaged.</p></td>
    </tr>
    <tr>
      <th>av_dimension</th>
      <td><p>a character string specifying which values should be used
for determining the intervals for averaging (<code>"timestamps"</code> by
default).</p></td>
    </tr>
    <tr>
      <th>intervals</th>
      <td><p>an optional numeric vector. If specified, these values are
taken as the borders of the intervals (<code>interval_size</code> and
<code>max_interval</code> are ignored).</p></td>
    </tr>
    <tr>
      <th>interval_size</th>
      <td><p>an integer specifying the size of the constant dimension
interval.</p></td>
    </tr>
    <tr>
      <th>max_interval</th>
      <td><p>an integer specifying the upper limit of the last
dimension value that should be included (therefore, it should be a multiple
of the <code>interval_size</code>). If specified, only values will be used for
averaging where the dimension values are smaller than <code>max_interval</code>.
If unspecified (the default), all values will be included.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical indicating whether function should report its
progress.</p></td>
    </tr>
    <tr>
      <th>dimension</th>
      <td><p>Deprecated. Please use <code>av_dimension</code> instead.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A mousetrap data object (see <a href='mt_example.html'>mt_example</a>) with an additional
  array (by default called <code>av_trajectories</code>) that contains the average
  trajectory data per dimension interval. If a trajectory array was provided
  directly as <code>data</code>, only the average trajectories will be returned.</p>
<p>For the dimension values used for averaging (specified in
  <code>av_dimension</code>), the mid point of the respective interval is reported,
  which is helpful for plotting the trajectory data later on. However, this
  value does not necessarily correspond to the empirical mean of the
  dimension values in the interval.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For each interval, it is first determined which of the values lie within the
respective interval of the dimension used for averaging (e.g., timestamps).
Intervals are left-open, right-closed (e.g., if values are averaged across
constant timestamps of 100 ms, a timestamp of 1200 would be included in the
interval 1100-1200 while a timestamp of 1300 would be included in the
interval 1200-1300). Then, all values for which the corresponding average
dimension values lie within the interval are averaged.</p>
<p>In case the last interval is not fully covered (e.g., if the last timestamp
has the value 1250), values for the corresponding interval (1200-1300) will
be computed based on the average of the values up to the last existing value.</p>
<p>Note that <code>mt_average</code> assumes that the trajectory variables are
recorded with a constant sampling rate (i.e., with a constant difference in
the timestamps). If the sampling rate varies considerably, <a href='mt_resample.html'>mt_resample</a>
should be called before averaging to arrive at equally spaced timestamps. The
sampling rate can be investigated using <a href='mt_check_resolution.html'>mt_check_resolution</a>.</p>
<p>If average velocity and acceleration are of interest,
<a href='mt_derivatives.html'>mt_derivatives</a> should be called before averaging.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='mt_derivatives.html'>mt_derivatives</a> for calculating velocity and
  acceleration.</p>
<p><a href='mt_resample.html'>mt_resample</a> for resampling trajectories using a constant time
  interval.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>mt_example</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mt_derivatives.html'>mt_derivatives</a></span>(<span class='no'>mt_example</span>)

<span class='co'># average trajectories across 100 ms intervals</span>
<span class='no'>mt_example</span> <span class='kw'>&lt;-</span> <span class='fu'>mt_average</span>(<span class='no'>mt_example</span>, <span class='kw'>save_as</span><span class='kw'>=</span><span class='st'>"av_trajectories"</span>,
  <span class='kw'>interval_size</span><span class='kw'>=</span><span class='fl'>100</span>)

<span class='co'># average time-normalized trajectories across specific intervals</span>
<span class='co'># of the time steps</span>
<span class='no'>mt_example</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mt_time_normalize.html'>mt_time_normalize</a></span>(<span class='no'>mt_example</span>)
<span class='no'>mt_example</span> <span class='kw'>&lt;-</span> <span class='fu'>mt_average</span>(<span class='no'>mt_example</span>,
  <span class='kw'>use</span><span class='kw'>=</span><span class='st'>"tn_trajectories"</span>, <span class='kw'>save_as</span><span class='kw'>=</span><span class='st'>"av_tn_trajectories"</span>,
  <span class='kw'>av_dimension</span> <span class='kw'>=</span> <span class='st'>"steps"</span>, <span class='kw'>intervals</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.5</span>,<span class='fl'>33.5</span>,<span class='fl'>67.5</span>,<span class='fl'>101.5</span>))</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Pascal J. Kieslich, Dirk U. Wulff, Felix Henninger, Jonas M. B. Haslbeck.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


